<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Less</title>
    <!--注意必须指明rel="stylesheet/less" type="text/css"-->
    <link rel="stylesheet/less" href="css/base.less">
    <link rel="stylesheet/less" href="css/demo1.less">
    <link rel="stylesheet/less" href="css/demo2.less">
    <link rel="stylesheet/less" href="css/demo3.less">
    <link rel="stylesheet/less" href="css/demo4.less">
    <link rel="stylesheet/less" href="css/demo5.less">
    <link rel="stylesheet/less" href="css/demo6.less">
    <link rel="stylesheet/less" href="css/demo7.less">

    <style rel="stylesheet/less" type="text/css">

    </style>
    <script type="text/javascript">
/*        less = {
            env: "development",
            async: false,
            fileAsync: false,
            poll: 1000,
            functions: {},
            dumpLineNumbers: "comments",
            relativeUrls: false,
            rootpath: ""
        };*/
    </script>
    <script src="js/less.js"></script>
</head>
<body>
<h1>less教程</h1>
<p>
    参考教程：<br/>
    https://www.cnblogs.com/landeanfen/p/6047031.html<br/>
    https://www.w3cschool.cn/less/scope.html<br/>
    http://www.bootcss.com/p/lesscss/#-variables<br/>
    本文访问地址：https://chentong106140.github.io/ES6/flex%E5%B8%83%E5%B1%80/flex%E8%AF%AD%E6%B3%95%E6%A6%82%E5%BF%B5.html
</p>
<h2><a href="#变量计算" name="变量计算" >变量计算</a></h2>
<pre>
/*编译之前*/
@nice-blue:#f938ab;
@light-blue:@nice-blue + #333;

.box-1 .box-item{
  background-color: @light-blue;
}

/*编译之后*/
.box-1 .box-item {
  background-color: #ff6bde;
}
</pre>
<div class="box box-1">
    <div class="box-item">
        <span>demo1</span>
    </div>
</div>
<h2><a href="#嵌套规则" name="嵌套规则" >嵌套规则</a></h2>
<pre>
/*编译之前*/
.box-2 {
  flex-direction: row;
}

.box-2{
  .box-item{
    width: 100%;
    height: auto;
    span{
      width:600px;
      height:200px;
      line-height: 200px;
    }
  }
}

/*编译之后*/
.box-2 {
  flex-direction: row;
}
.box-2 .box-item {
  width: 100%;
  height: auto;
}
.box-2 .box-item span {
  width: 600px;
  height: 200px;
  line-height: 200px;
}


</pre>
<div class="box box-2">
    <div class="box-item">
        <span>demo2</span>
    </div>
</div>
<h2><a href="#Less转义~" name="Less转义~" >Less 转义 ~</a></h2>
<p>
    通过~转义，能够将字符串，转换为css属性，~后面的必须是字符串
</p>
<pre>
/*编译之前*/
.box-3 {
  flex-direction: row;
}
.box-3{
  .box-item {
    background-color: ~'red';/*字符串转义为属性red*/
  }
}

/*编译之后*/
.box-3 {
  flex-direction: row;
}
.box-3 .box-item {
  background-color: red;
}
</pre>
<div class="box box-3">
    <div class="box-item">
        <span>demo3</span>
    </div>
</div>
<h2><a href="#Less命名空间和访问器" name="Less命名空间和访问器" >Less 命名空间和访问器</a></h2>
<p>
    可以将样式进行封装打包，然后可以通过>箭头重复调用打包封装好的样式
</p>
<pre>
/*编译之前*/

//定义命名空间与打包
.box{
  .box-item{
    /*bgColor由于加入了变量混合，最终不会编译到css中*/
    .bgColor(@param:2rem){
      background-color: aqua;
      font-size: @param;
    }

    .border-radius{
      border-radius:50%;
    }

    /*width由于加入了变量混合，最终不会编译到css中*/
    .width(@param:100px){
      width:@param;
    }

    span{
      background-color: #ffd200;
    }
  }
}

//根据命名空间进行调用
.box-4{
  .box-item{
    span{
      .box > .box-item > .bgColor(1rem);    //通过>号，将bgColor内写好的样式复制过来
    }
  }
}


/*编译之后*/
.box {
}
.box .box-item {
}
.box .box-item .border-radius {
  border-radius: 50%;
}
.box .box-item span {
  background-color: #ffd200;
}
.box-4 .box-item span {
  background-color: aqua;
  font-size: 1rem;//根据编译结果，我们会看到bgColor并没有被编译到css样式表中，而是直接将内部定义好的样式复制过来了
}

</pre>
<div class="box box-4">
    <div class="box-item">
        <span>demo4</span>
    </div>
</div>
<h2><a href="#Less变量范围" name="Less变量范围" >Less 变量范围</a></h2>
<p>
    1:本地作用域定义的变量，如果变量名与父作用域的变量名一样，此时，本地变量会覆盖父类变量<br/>
    2:如果本地作用域没有定义变量，而父作用域定义了变量，本地会自动去父作用域查找变量并使用

</p>
<pre>
/*编译之前*/
.box{
  .box-item{
    //定义父作用域变量
    @width:200px;
    @height:100px;
    .width{
      @width:100px;//定义本地作用域的变量
      width:@width;//如果本地作用域定义了该变量，将首先取本地的变量
    }
    .height{
      height:@height;//如果本地作用域不存在该变量，将从父作用域搜索
    }
  }
}
//调用样式
.box-5{
  .box-item{
    span{
      .box > .box-item > .width;  //将定义好的样式复制过来
      .box > .box-item > .height;
    }
  }
}

/*编译之后*/
.box .box-item .width {
  width: 100px;
}
.box .box-item .height {
  height: 100px;
}
.box-5 .box-item span {
  width: 100px;
  height: 100px;
}
</pre>
<div class="box box-5">
    <div class="box-item">
        <span>demo5</span>
    </div>
</div>
<h2><a href="#Less注释" name="Less注释" >Less 注释</a></h2>
<p>
    Less 支持两种类型的注释：多行注释和单行注释。<br/>
    当编译LESS代码时，单行注释不会显示在CSS文件中,而多行注释可以显示在CSS文件中
</p>

<h2><a href="#Less导入" name="Less导入" >Less 导入</a></h2>
<p>
    通过@import("文件路径")导入其他Less文件内容
</p>
<pre>
/*编译之前*/
//demo6_1.less
.box{
  .box-item{
    .color{
      color: red;
    }
  }
}
//demo6.less
@path:'./';
@import "@{path}demo6_1.less";  //变量可以在URL中使用
//调用上面样式
.box-6{
  .box-item{
    span{
      .box > .box-item > .color;  //将定义好的样式复制过来
    }
  }
}

/*编译之后*/
.box .box-item .color {
  color: red;
}
.box-6 .box-item span {
  color: red;
}

</pre>
<div class="box box-6">
    <div class="box-item">
        <span>demo6</span>
    </div>
</div>
<h2><a href="#Less变量" name="Less变量" >Less 变量</a></h2>
<p>
    1：如果某些值被多次重复使用，可以使用变量来避免<br/>
    2：使用 @ 符号定义变量，变量分配使用冒号(:)完成<br/>
    3：格式为“@变量名：变量值”<br/>
    4：选择器插值@{selector} { background: #2ECCFA; }<br/>
    5：URL插值@images: "http://www.w3cschool.cn";      background : url("@{images}/less/images/less_variables/birds.jpg");<br/>
    6：import插值@path : "//www.w3cschool.cn/less";    @import "@{path}/external1.less";<br/>
    7：属性插值：@my-property: color;                  background-@{my-property}: #81F7D8;<br/>
    8：变量名为一个值：@col: #ca428b;    @color: "col";  background-color: @@color;  最终编译为：background-color: #ca428b;<br/>
    9：变量延迟加载，它们尚未声明，也可以使用变量：font-size: @a;  @a: @b; @b: 25px; 最终解析为：font-size: 25px;<br/>
</p>
<h2><a href="#Less扩展" name="Less扩展" >Less 扩展</a></h2>
<p>
    1：使用:extend 选择器在一个选择器中扩展其他选择器样式<br/>
    2：意思就是将当前的选择器，也要复制:extend后面选择器的样式<br/>
    3：.a{font-size:16px;}  .b:extend(.a){color:red;}---编译之后----.b{color:red;} .a,.b{font-size:16px;}<br/>
    4：选择器A,选择器B:extend(选择器){xxx}与选择器A,选择器B{&:extend(选择器);xxx}的区别：<br/>
       前者只扩展:冒号前面的选择器，后者会同时扩展大括号前面所有的选择器
</p>
<pre>
/*:extend()编译之前*/
.class1 {
  font-size: 15px;
}

.class2 {
  font-weight: 600;
}

//只给class4继承class1,class2
.class3,.class4:extend(.class1,.class2) {
  color: red;
}

/*编译之后*/
//见效果后，发现:extend只给写在它前面的选择器进行扩展样式，同级选择器，只会共同扩展{}里面的样式
.class1,
.class4 {
  font-size: 15px;
}
.class2,
.class4 {
  font-weight: 600;
}
//如下效果，class3与class4共同的样式只有:extend(){}大括号内的样式
.class3,
.class4 {
  color: red;
}
</pre>
<pre>
/*&:extend()编译之前*/
.class1 {
  font-size: 15px;
}
.class2 {
  font-weight: 600;
}
.class5, .class6 {
  &:extend(.class1,.class2);
  color: yellow;
}

/*编译之后*/
.class1,
.class5,
.class6 {
  font-size: 15px;
}
.class2,
.class5,
.class6 {
  font-weight: 600;
}
.class5,
.class6 {
  color: yellow;
}

</pre>

</body>
</html>